{"ast":null,"code":"import _slicedToArray from \"/Users/feruzxasanov/Downloads/booking samo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nvar EMPTY_KEYS = [];\nfunction filterKeys(keys, dataKeys) {\n  var filteredKeys = keys.filter(function (key) {\n    return dataKeys.has(key);\n  });\n  return keys.length === filteredKeys.length ? keys : filteredKeys;\n}\nfunction flattenKeys(keys) {\n  return Array.from(keys).join(';');\n}\nexport default function useSelection(leftDataSource, rightDataSource) {\n  var selectedKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EMPTY_KEYS;\n  // Prepare `dataSource` keys\n  var _React$useMemo = React.useMemo(function () {\n      return [new Set(leftDataSource.map(function (src) {\n        return src.key;\n      })), new Set(rightDataSource.map(function (src) {\n        return src.key;\n      }))];\n    }, [leftDataSource, rightDataSource]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n    leftKeys = _React$useMemo2[0],\n    rightKeys = _React$useMemo2[1]; // Selected Keys\n  var _React$useState = React.useState(function () {\n      return filterKeys(selectedKeys, leftKeys);\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    sourceSelectedKeys = _React$useState2[0],\n    setSourceSelectedKeys = _React$useState2[1];\n  var _React$useState3 = React.useState(function () {\n      return filterKeys(selectedKeys, rightKeys);\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    targetSelectedKeys = _React$useState4[0],\n    setTargetSelectedKeys = _React$useState4[1]; // Fill selected keys\n  React.useEffect(function () {\n    setSourceSelectedKeys(filterKeys(selectedKeys, leftKeys));\n    setTargetSelectedKeys(filterKeys(selectedKeys, rightKeys));\n  }, [selectedKeys]);\n  // Reset when data changed\n  React.useEffect(function () {\n    setSourceSelectedKeys(filterKeys(sourceSelectedKeys, leftKeys));\n    setTargetSelectedKeys(filterKeys(targetSelectedKeys, rightKeys));\n  }, [flattenKeys(leftKeys), flattenKeys(rightKeys)]);\n  return [\n  // Keys\n  sourceSelectedKeys, targetSelectedKeys,\n  // Updater\n  setSourceSelectedKeys, setTargetSelectedKeys];\n}","map":null,"metadata":{},"sourceType":"module"}